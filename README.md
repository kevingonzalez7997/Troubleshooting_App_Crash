# Incident Report

## Incident Cause:
The system crash occurred due to a few factors. Improper permissions and semantic errors were introduced into the main branch, resulting in a destabilized application.

## Incident Duration:
The site experienced downtime for approximately ten minutes, after checking logs we can see traffic was very low at the time, not affecting many users

## Resolution Steps:

We started troubleshooting immediately after detecting the system outage. Logs from Jenkins indicated no syntax errors during application deployment.
We then examined logs generated by Elastic Beanstalk. In these logs, we identified a JSON error within the application.py file, specifically on line 20

Incorrect code:

`urls = json.loads(urls_file)`

Corrected code:

`urls = json.load(urls_file)`

It's important to note that json.load() is used to read JSON from a file, while json.loads() is used to convert a JSON string into a Python dictionary

The code was adjusted, and the changes were committed to the repository. This triggered a webhook that, triggering the Elastic Beanstalk CLI to redeploy the server.

After the server was redeployed, tests were run to ensure that all functions of the server were fully operational.

## Incident Resolution:

The incident was fully resolved. After the code adjustment and redeployment, all tests returned functional.

## Preventive Measures:

To minimize the risk of similar incidents in the future, we recommend implementing the following preventive measures:

-System Monitoring: Install a monitoring system that can notify the DevOps team of any system crashes. Ensure that the monitoring system is configured to trigger alerts automatically.

-Rolling Updates: Start using rolling update deployment method. This approach is cost-effective and allows updates to be tested on a small group of users before a full rollout. Instead of troubleshooting, a backup and rollback strategy should be used to revert a functional version quickly
  
  - `git checkout <hash> .`
  - `git add .`
  - `git commit -m ""`
  - `git push`

-Branching Strategy: Enforce a branching strategy where developers make changes in separate branches rather than directly to the main branch. This with a combination of permission to the main branch can eliminate incorrect code being merged by the wrong personnel. 
